<!DOCTYPE html>
<HTML lang="en">
    <HEAD>
        <title>ICT2207 Assignment 2</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="../static/css/bootstrap.min.css" rel="stylesheet"/>
        <script src="../static/js/bootstrap.bundle.min.js"></script>
        <script src="../static/js/jquery-3.6.0.min.js"></script>
        <script src="../static/js/userScripts.js"></script>
    </HEAD>

    <BODY>
        <nav class="navbar navbar-dark bg-dark">
            <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">APK Obfuscator</span>
            </div>
        </nav>

        <div id="mainWrapper" class="container">
            <div id="inputRow" class="row bg-light border rounded-3 mt-3 mb-3">
                <form class="mt-3 mb-3"
                    action="/upload"
                    method="POST"
                    enctype="multipart/form-data">
                    <label for="fileInput" class="form-label"><h4>Input File</h4></label>
                    <input id="fileInput" class="form-control" type="file" name="file" accept=".apk, .smali"/>
                    <div id="fileInputComment" class="form-text">Files can be either <code>.APK</code> or <code>.SMALI</code></div>
                    <button id="obfuscateButton" type="button" onclick="upload()" class="btn btn-primary w-100 mt-3">Obfuscate</button>
                </form>
            </div>
            <div id="uploadStatus"></div>
            <div id="apkExtractSpinnerWrapper" class="alert alert-light d-flex align-items-center">
                <span id="apkExtractSpinnerHeader" hidden>File is being extracted ...</span>
                <span id="apkExtractSpinner" class="spinner-grow text-primary ms-auto" role="status" hidden></span>
            </div>
            <div id="apkExtractWrapper" class="row bg-light border rounded-3 mt-3 mb-3" hidden>
                <h4 id="apkExtractHeader" class="pt-3 pb-1" hidden>APK Extraction Log</h4>
                <div class="bg-white border rounded-3 mb-3 font-monospace fs-6 mb-3" style="max-height: 25vh; overflow-y: scroll;">
                    <pre><code id="apkExtractStatus"></code></pre>
                </div>
            </div>
            <div id="smaliFilesFoundWrapper" class="row bg-light border rounded-3 mt-3 mb-3" hidden>
                <h4 id="smaliFilesFoundHeader" class="pt-3 pb-1" hidden><span id="smaliFilesFoundCount" class="mark font-monospace">NULL</span> <code>.smali</code> files found</h4>
                <div class="bg-white border rounded-3 mb-3 font-monospace fs-6 mb-3" style="max-height: 25vh; overflow-y: scroll;">
                    <pre><code id="smaliFilesFoundList"></code></pre>
                </div>
            </div>
        </div>
    </BODY>

</HTML>